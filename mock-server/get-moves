#!/usr/bin/env node

const process = require('process');

<<<<<<< HEAD
const card = JSON.parse(decodeURIComponent(process.argv[2]));

console.log(JSON.stringify([
  { x: card.x, y: card.y + 1, rotation: 1},
  { x: card.x + 1, y: card.y, rotation: 3},
  { x: card.x, y: card.y - 1, rotation: 2},
  { x: card.x - 1, y: card.y, rotation: 4}
]));
=======
// const card = JSON.parse(decodeURIComponent(process.argv[2]));
const board = require('./sample-datastore.json');

const neighbors = board.board
  .map(({ x, y }) => ({ x: parseInt(x, 10), y: parseInt(y, 10)}))
  .map(({ x, y }) => [ { x: x, y: y + 1}, { x: x + 1, y: y }, { x: x, y: y - 1 }, { x: x - 1, y: y}])
  .reduce((a, b) => a.concat(b), [])
  .filter((loc) => !board.board.map(({ x, y }) => [x, y]).includes([loc.x, loc.y]))
  .map(({ x, y }) => ({ x: x, y: y, orientation: Math.floor(Math.random()*4)}))

console.log(JSON.stringify(neighbors, null, '  '));
>>>>>>> origin/master
